<!DOCTYPE html>
<html>
  <head>
    <title>Movie Trailers | Free Film & Music Clips</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/styles.css">
  </head>
  <body class="bg-gray-50">
    {{header}}

    <main class="container mx-auto p-4">
      <section class="mb-8 bg-white p-6 rounded-lg shadow-sm">
        <h2 class="text-xl font-semibold mb-4">Submit New Trailer</h2>
        <form action="/submit" method="POST" onsubmit="return confirmSubmit()" class="space-y-4">
          <div>
            <label for="imdb_id" class="block text-gray-700 mb-1">IMDb ID</label>
            <input 
              type="text" 
              id="imdb_id" 
              name="imdb_id" 
              placeholder="e.g. tt1234567" 
              class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            >
            <p class="text-sm text-gray-500 mt-1">
              Find this on IMDb - looks like "tt" followed by 7-8 numbers
            </p>
          </div>
          
          <div>
            <label for="acfun_url" class="block text-gray-700 mb-1">AcFun URL</label>
            <input 
              type="url" 
              id="acfun_url" 
              name="acfun_url" 
              placeholder="https://www.acfun.cn/..." 
              class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            >
          </div>
          
          <button 
            type="submit" 
            class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
          >
            <i class="fa fa-paper-plane mr-1"></i> Submit
          </button>
        </form>
      </section>

      <section>
        <h2 class="text-xl font-semibold mb-4">Recently Approved Trailers</h2>
        
        {{recentTrailers}}
      </section>
    </main>

    {{footer}}

    <script>
      // 提交内容二次确认
      function confirmSubmit() {
        const imdbId = document.getElementById('imdb_id').value.trim();
        const message = imdbId 
          ? `Are you sure you want to submit the trailer for ${imdbId}?`
          : 'Are you sure you want to submit this trailer?';
        
        return confirm(message);
      }
    </script>
  </body>
</html>
